---
import './hero.css';
import Boton from '../atoms/Boton.astro';
---

<section class="hero">

	<div class="hero__container">
		<div class="text__content">
			<h1 class="hero__title color__gradiente" data-i18n-key="hero.name">Danny</h1>
			<p class="hero__text" data-i18n-key="hero.text">
				Мы помогаем улучшить работу в сфере IT: создаём современные решения, автоматизируем процессы и оптимизируем бизнес-процессы для максимальной эффективности.
			</p>
			<p class="hero__slogan" data-i18n-key="hero.slogan">
				Доверия от вас результат от нас
			</p>
			<Boton href="#" texto="Получить консультацию" i18nKey="hero.cta"/>
		</div>
    <img
		class="hero__img"
		src="/img/jhon-doe.webp"
		alt="Danny"
		width="384"
    	height="384"
	/>
	</div>
</section>

<div id="heroConsultationModal" class="modal">
	<div class="modal__content">
		<button class="modal__close" id="closeHeroConsultationModal">&times;</button>
		<h2 class="modal__title" data-i18n-key="hero.modal.title">Записаться на встречу</h2>
		<p class="hero__modal-text" data-i18n-key="hero.modal.text">
			Выберите удобное время для консультации через Cal.com.
		</p>
		<div class="hero__cal-frame-wrapper">
			<iframe
				class="hero__cal-frame"
				src="https://cal.com/dany-danatarow-uioayz?embed=1&embedType=inline"
				title="Запись на встречу в Cal.com"
				frameborder="0"
				allowfullscreen
			></iframe>
		</div>
	</div>
</div>

<script>
	const heroBtn = document.querySelector('.hero .primary.button');
	const heroModal = document.getElementById('heroConsultationModal');
	const closeHeroModalBtn = document.getElementById('closeHeroConsultationModal');

	heroBtn?.addEventListener('click', (e) => {
		e.preventDefault();
		heroModal?.classList.add('is-open');
		document.body.style.overflow = 'hidden';
	});

	closeHeroModalBtn?.addEventListener('click', () => {
		heroModal?.classList.remove('is-open');
		document.body.style.overflow = '';
	});

	heroModal?.addEventListener('click', (e) => {
		if (e.target === heroModal) {
			heroModal.classList.remove('is-open');
			document.body.style.overflow = '';
		}
	});
</script>
