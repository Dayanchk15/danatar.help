---
import RectReveal from "../components/RectReveal.astro";

interface Props {
  items: { title: string; text: string }[];
}

const { items } = Astro.props;
---

<div class="sy-statements">
  <RectReveal ignoreLast>
    {
      items.map(({ title, text }, i) => (
        <div
          class="box"
          data-gl-start-zone={i === 1 ? "true" : undefined}
          data-gl-freeze-zone={i === 2 ? "true" : undefined}
        >
          <div class="u-container">
            <div class="content">
              <h2
                class="u-heading"
                data-sy-reveal={i === 0 ? "words" : undefined}
              >
                {title}
              </h2>
              <p class="u-text" data-sy-reveal={i === 0 ? "lines" : undefined}>
                {text}
              </p>
            </div>
          </div>
        </div>
      ))
    }
  </RectReveal>
  <div data-gl-place="0"></div>
</div>

<style>
  [data-gl-place] {
    --d: 1;
    --s: 17rem;
    position: absolute;
    right: 0;
    left: 0;
    margin: 0 auto;
    bottom: 0;

    @media (--mq-tablet) {
      bottom: 50%;
    }
  }

  .sy-statements {
    margin-bottom: 0;
    position: relative;
    z-index: 9;
  }

  .box {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--glass-bg);
    backdrop-filter: blur(calc(var(--glass-blur) * 1.4)) saturate(1.05);
    -webkit-backdrop-filter: blur(calc(var(--glass-blur) * 1.4)) saturate(1.05);
    border: 1px solid var(--glass-border);
    color: var(--color-text);
    text-align: center;
    flex-direction: column;

    &:nth-child(2) {
      background: rgba(var(--rgb-brand-1), 0.16);
      color: var(--color-brand-3);
    }

    &:nth-child(3) {
      background: rgba(var(--rgb-brand-3), 0.20);
    }
  }

  .content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  h2 {
    --fs: 3rem;
    --lh: 1.3;
  }

  p {
    max-width: 40em;
  }
</style>
